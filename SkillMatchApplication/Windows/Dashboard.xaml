<Window x:Class="SkillMatchApplication.Dashboard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SkillMatchApplication"
        mc:Ignorable="d"
        ResizeMode="CanMinimize"
        Title="Dashboard" Height="1020" Width="1600" Icon="/Resources/Logos/Logo.png" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
<local:InverseBooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter"/>
        <!-- Data Template for Session Cards -->
        <DataTemplate x:Key="SessionCardTemplate">
            <Border Background="White" BorderBrush="LightGray" BorderThickness="1" Padding="20" Margin="0,0,0,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <!-- Date -->
                    <Border Background="#6366F1" Width="80" Height="80" CornerRadius="16">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="{Binding Day}" Foreground="White" FontSize="28" FontWeight="Bold"/>
                            <TextBlock Text="{Binding Month}" Foreground="White" FontSize="18"/>
                        </StackPanel>
                    </Border>

                    <!-- Text -->
                    <StackPanel Grid.Column="1" Margin="20,0">
                        <TextBlock Text="{Binding Skill}" FontSize="22" FontWeight="Bold"/>
                        <TextBlock FontSize="16" Margin="0,5">
                            <Run Text="{Binding PartnerName}"/>
                            <Run Text=" (TEACH)" Foreground="Green" FontWeight="Bold"/>
                            <Run Text=" (LEARN)" Foreground="Blue" FontWeight="Bold"/>          
                        </TextBlock>
                    </StackPanel>

                    <!-- Buttons -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0">
                        <Button Content="Accept" Background="Green" Foreground="White" Margin="5"/>
                        <Button Content="Reschedule" Background="Orange" Foreground="White" Margin="5"/>
                        <Button Content="Cancel" Background="Red" Foreground="White" Margin="5"/>
                    </StackPanel>
                </Grid>
            </Border>
        </DataTemplate>
        <!-- Data Template for Match Cards -->
        <DataTemplate x:Key="MatchCardTemplate">
            <Grid>
                <Border BorderBrush="Black" BorderThickness="1" Height="150" Width="300" Background="#FFEFECE3" CornerRadius="30,30,30,30">
                    <Border.Effect>
                        <DropShadowEffect/>
                    </Border.Effect>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="90*"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Ellipse HorizontalAlignment="Left" Height="70" Margin="10,35,0,0" Stroke="Black" VerticalAlignment="Top" Width="70">
                            <Ellipse.Fill>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#FFB2EEEF"/>
                                    <GradientStop Color="#FF2B4D90" Offset="0.892"/>
                                    <GradientStop Color="#FF5371E8" Offset="0.377"/>
                                </LinearGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel Margin="60,18,30,30" Background="{x:Null}" Width="200">
                            <TextBlock x:Name="tbMatchesName" TextWrapping="Wrap" Text="{Binding Name}" HorizontalAlignment="Center" VerticalAlignment="Stretch" Foreground="#FF183765" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Background="#3FC6E4EE" FontSize="18" Margin="0,0,0,0" Padding="0,0,0,0" />
                            <TextBlock x:Name="tbMatchesSkills" TextWrapping="Wrap" Text="{Binding Skill}" Foreground="#FF183765" FontWeight="Bold" Padding="0,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12"/>
                            <TextBlock x:Name="tbMatchesRating" TextWrapping="Wrap" Text="{Binding Rating, StringFormat='★ {0:F1}'}" Padding="0,0,0,0" FontFamily="Yu Gothic UI" FontWeight="Bold" Foreground="#FFFE8132" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0" FontSize="10"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </DataTemplate>
    </Window.Resources>
    <Grid x:Name="MainDashboardGrid" Margin="0,0,0,-6">
        <Grid x:Name="DasboardGrid" Background="#FFEFECE3" MinWidth="1600" MinHeight="1000" Width="0" Height="0">
            <!-- Top nav bar -->
            <Border BorderBrush="Black" BorderThickness="1" Background="Black" Margin="0,0,0,906" Height="97" VerticalAlignment="Top">
                <DockPanel LastChildFill="False" Background="#FF8FABD4">
                    <Image Width="0" Stretch="None"/>
                    <Image Width="352" Source="/Resources/Logos/LogoWithTitle.png" Height="87"/>
                    <TextBlock x:Name="tbHamburger" TextWrapping="Wrap" Text="☰" FontSize="48" DockPanel.Dock="Right" Width="79" Height="68" Foreground="#FFEFECE3" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" MouseDown="tbHamburger_MouseDown"/>
                    <!-- Buttons -->
                    <Grid Width="1057" Height="93">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="btnDashboard" Content="DASHBOARD" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFEFECE3" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="24" Width="200" BorderBrush="{x:Null}" Click="btnDashboard_Click">
                            <Button.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#00000000" Offset="0.367"/>
                                    <GradientStop Color="#FF8FABD4" Offset="1"/>
                                    <GradientStop Color="#00000000" Offset="0.898"/>
                                </LinearGradientBrush>
                            </Button.Background>
                        </Button>
                        <Button x:Name="btnMessages" Content="MESSAGES" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFEFECE3" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="24" Width="200" BorderBrush="{x:Null}" Grid.Column="1" Click="btnMessages_Click">
                            <Button.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#00000000" Offset="0.898"/>
                                    <GradientStop Color="#FF8FABD4" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                        </Button>
                        <Button x:Name="btnSessions" Content="SESSIONS" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFEFECE3" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="24" Width="200" BorderBrush="{x:Null}" Grid.Column="2" Click="btnSessions_Click">
                            <Button.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#00000000" Offset="0.901"/>
                                    <GradientStop Color="#FF8FABD4" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                        </Button>
                        <Button x:Name="btnMatches" Content="MATCHES" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFEFECE3" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="24" Width="200" BorderBrush="{x:Null}" Grid.Column="3" Click="btnMatches_Click">
                            <Button.Background>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#00000000" Offset="0.907"/>
                                    <GradientStop Color="#FF8FABD4" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                        </Button>
                    </Grid>
                </DockPanel>
            </Border>
 
            
            <!-- New Messenger Grid -->
            <Grid x:Name="MessengerGrid" Background="#F0F2F5" Margin="105,102,105,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="350"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- LEFT PANEL - CONVERSATION LIST -->
                <Border Background="#FFEFECE3" BorderBrush="#E4E6EB" BorderThickness="0,0,1,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Messages" FontSize="28" FontWeight="Bold" Margin="20" Foreground="#1C1E21"/>

                        <!-- Search -->
                        <TextBox x:Name="txtSearchConversation" 
                     Text="Search conversations..." 
                     Margin="20,10" 
                     Padding="10" 
                     FontSize="16"
                     Background="#F0F2F5" 
                     BorderBrush="#CED0D4" 
                     BorderThickness="1"/>

                        <!-- Conversation List -->
                        <ListBox x:Name="lbConversations" 
                             Grid.Row="1" 
                             Background="#FFD6D3C9" 
                             BorderThickness="0"
                             SelectionChanged="lbConversations_SelectionChanged">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="10" Height="70">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Ellipse Width="50" Height="50" Fill="#1877F2">
                                            <Ellipse.OpacityMask>
                                                <ImageBrush ImageSource="{Binding Avatar}"/>
                                            </Ellipse.OpacityMask>
                                        </Ellipse>
                                        <StackPanel Grid.Column="1" Margin="15,0">
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16"/>
                                            <TextBlock Text="{Binding LastMessage}" Foreground="#65676B" FontSize="14"/>
                                        </StackPanel>
                                    </Grid>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </Grid>
                </Border>

                <Grid Grid.Column="1">
                    <!-- CHAT AREA — VISIBLE WHEN IsConversationSelected = true -->
                    <Grid Visibility="{Binding IsConversationSelected, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <Border Background="White" BorderBrush="#E4E6EB" BorderThickness="0,0,0,1">
                            <TextBlock x:Name="tbChatWith" Text="" FontSize="20" FontWeight="Bold" Margin="20" VerticalAlignment="Center"/>
                        </Border>

                        <!-- Messages -->
                        <ScrollViewer x:Name="messageScroll" Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
                            <ItemsControl x:Name="messagesPanel">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border MaxWidth="600" Margin="10,5" CornerRadius="18" Padding="12,10">
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Setter Property="Background" Value="#E4E6EB"/>
                                                    <Setter Property="HorizontalAlignment" Value="Left"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsSent}" Value="True">
                                                            <Setter Property="Background" Value="#1877F2"/>
                                                            <Setter Property="HorizontalAlignment" Value="Right"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <TextBlock Text="{Binding Text}" Foreground="Black" TextWrapping="Wrap"/>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>

                        <!-- Input -->
                        <Border Grid.Row="2" Background="#FF8FABD4" BorderBrush="#E4E6EB" BorderThickness="0,1,0,0" Padding="20">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="txtMessage" FontSize="16" Padding="15" BorderBrush="#CED0D4" BorderThickness="1" KeyDown="txtMessage_KeyDown"/>
                                <Button Grid.Column="1" Content="Send" Background="#1877F2" Foreground="White" Padding="20,12" Margin="10,0,0,0" Click="btnSend_Click"/>
                            </Grid>
                        </Border>
                    </Grid>
                    <!-- PLACEHOLDER — VISIBLE WHEN NO CONVERSATION -->
                    <Grid Background="#F0F2F5" Visibility="{Binding IsConversationSelected, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <TextBlock Text="👤" FontSize="80" Margin="0,0,0,20"/>
                            <TextBlock Text="Select a conversation" FontSize="24" FontWeight="Bold" Foreground="#8E8E8E"/>
                            <TextBlock Text="Choose a conversation from the list to start messaging" Foreground="#8E8E8E"/>
                        </StackPanel>
                    </Grid>
                </Grid>

                <!-- "Select a conversation" placeholder when no one is selected -->
                <Grid Grid.Column="1" Background="#F0F2F5" Visibility="{Binding IsConversationSelected, Converter={StaticResource InverseBooleanToVisibilityConverter}}">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock Text="Select a conversation" FontSize="24" FontWeight="Bold" Foreground="#8E8E8E" HorizontalAlignment="Center"/>
                        <TextBlock Text="Choose a conversation from the list to start messaging" Foreground="#8E8E8E" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Grid>

            <!-- Dashboard Content Grid -->
            <Grid x:Name="dashboardContent" Margin="80,119,80,46" Background="#33C6E4EE" Visibility="Collapsed">
                <Grid Margin="0,0,0,685">
                    <Rectangle x:Name="welcomeContainer" HorizontalAlignment="Center" Height="150" Stroke="Black" VerticalAlignment="Center" Width="1440" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5"/>
                    <TextBlock x:Name="tbWelcomeUser" HorizontalAlignment="Left" Margin="80,0,0,0" TextWrapping="Wrap" Text="Welcome, [USER]" VerticalAlignment="Center" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FFEFECE3"/>
                    <Ellipse x:Name="elpsDashboardAvatar" HorizontalAlignment="Left" Height="130" VerticalAlignment="Center" Width="130" Margin="1215,0,0,0" Stroke="#FF183765">
                        <Ellipse.Fill>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#FFB2EEEF"/>
                                <GradientStop Color="#FF2B4D90" Offset="0.87"/>
                                <GradientStop Color="#FF5371E8" Offset="0.398"/>
                            </LinearGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                </Grid>
                <Grid x:Name="totalSessionsGrid" Margin="0,170,1040,535">
                    <Rectangle x:Name="totalSessionsContainer" HorizontalAlignment="Center" Height="130" Stroke="Black" VerticalAlignment="Center" Width="400" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5"/>
                    <Rectangle HorizontalAlignment="Left" Height="78" Margin="10,0,0,0" VerticalAlignment="Center" Width="110" RadiusX="30" RadiusY="30" RenderTransformOrigin="0.5,0.5">
                        <Rectangle.Fill>
                            <ImageBrush Stretch="None" TileMode="None" ImageSource="/Resources/Logos/icon_Calendar.png"/>
                        </Rectangle.Fill>
                        <Rectangle.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Rectangle.RenderTransform>
                    </Rectangle>
                    <TextBlock x:Name="tbTotalSessions" HorizontalAlignment="Left" Margin="110,26,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FFEFECE3"/>
                    <TextBlock HorizontalAlignment="Left" Margin="110,74,0,0" TextWrapping="Wrap" Text="Total Sessions" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FFEFECE3" FontSize="16"/>
                </Grid>
                <Grid Margin="521,170,521,535">
                    <Rectangle x:Name="ratingContainer" HorizontalAlignment="Center" Height="130" Stroke="Black" VerticalAlignment="Center" Width="398" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5"/>
                    <Rectangle HorizontalAlignment="Left" Height="78" Margin="14,0,0,0" VerticalAlignment="Center" Width="110" RadiusX="30" RadiusY="30" RenderTransformOrigin="0.5,0.5">
                        <Rectangle.Fill>
                            <ImageBrush ImageSource="/Resources/Logos/icon_Star.png" Stretch="None" TileMode="None"/>
                        </Rectangle.Fill>
                        <Rectangle.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Rectangle.RenderTransform>
                    </Rectangle>
                    <TextBlock x:Name="tbRatings" HorizontalAlignment="Left" Margin="115,26,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FFEFECE3"/>
                    <TextBlock HorizontalAlignment="Left" Margin="115,74,0,0" TextWrapping="Wrap" Text="Average Ratings" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FFEFECE3" FontSize="16"/>
                </Grid>
                <Grid Margin="1040,170,0,535">
                    <Rectangle x:Name="matchesContainer" HorizontalAlignment="Center" Height="130" Stroke="Black" VerticalAlignment="Center" Width="398" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5"/>
                    <Rectangle HorizontalAlignment="Left" Height="78" Margin="10,0,0,0" VerticalAlignment="Center" Width="110" RadiusX="30" RadiusY="30" RenderTransformOrigin="0.5,0.5">
                        <Rectangle.Fill>
                            <ImageBrush ImageSource="/Resources/Logos/icon_newMatches.png" Stretch="None" TileMode="None"/>
                        </Rectangle.Fill>
                        <Rectangle.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform/>
                                <SkewTransform/>
                                <RotateTransform Angle="0"/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Rectangle.RenderTransform>
                    </Rectangle>
                    <TextBlock x:Name="tbNewMatches" HorizontalAlignment="Left" Margin="110,26,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FFEFECE3"/>
                    <TextBlock HorizontalAlignment="Left" Margin="110,74,0,0" TextWrapping="Wrap" Text="New Matches" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FFEFECE3" FontSize="16"/>
                </Grid>
                <Grid Margin="0,320,0,255">
                    <Rectangle x:Name="upcomingSessionsContainer" HorizontalAlignment="Center" Height="260" Stroke="Black" VerticalAlignment="Center" Width="1440" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5"/>
                    <Grid x:Name="upcomingGrid" Margin="25,10,20,10" Background="#0DE9F2FF">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="7*"/>
                            <RowDefinition Height="41*"/>
                        </Grid.RowDefinitions>
                        <Rectangle HorizontalAlignment="Center" Height="150" Margin="0,45,0,0" Stroke="Black" VerticalAlignment="Top" Width="1395" RadiusX="30" RadiusY="30" StrokeThickness="0.5" Fill="#AADFFFFA" Grid.Row="1"/>
                        <TextBlock HorizontalAlignment="Left" Margin="0,22,0,0" TextWrapping="Wrap" Text="Upcoming Sessions" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FFEFECE3" Grid.RowSpan="2"/>
                        <Button x:Name="btnViewAllSessions" Content="→ View All" HorizontalAlignment="Left" Margin="1205,26,0,0" VerticalAlignment="Top" Height="44" Width="180" FontSize="24" Background="{x:Null}" BorderBrush="{x:Null}" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FF183765" Opacity="0.67" Grid.RowSpan="2"/>
                        <TextBlock x:Name="tbSessionStatus" HorizontalAlignment="Left" Margin="1237,103,0,0" TextWrapping="Wrap" Text="Confirmed" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FF59A93C" FontSize="24" Grid.Row="1"/>
                        <TextBlock x:Name="tbUpcomingSkills" HorizontalAlignment="Left" Margin="113,0,0,0" TextWrapping="Wrap" Text="React" VerticalAlignment="Center" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="36" Foreground="#FF183765" Grid.Row="1"/>
                        <TextBlock x:Name="tbWithUser" HorizontalAlignment="Left" Margin="113,131,0,0" TextWrapping="Wrap" Text="with [USER] " VerticalAlignment="Top" FontFamily="Yu Gothic UI Semilight" FontWeight="Bold" Foreground="#FF183765" FontSize="16" Grid.Row="1"/>
                        <TextBlock x:Name="tbTime" HorizontalAlignment="Left" Margin="40,162,0,0" TextWrapping="Wrap" Text="2:00 PM" VerticalAlignment="Top" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FF183765" FontSize="16" Grid.Row="1"/>
                        <!-- Date Border -->
                        <Border BorderThickness="1" Grid.Row="1" Margin="35,87,0,48" Width="70" Height="70" Background="#FF183765" CornerRadius="14,14,14,14" HorizontalAlignment="Left">
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock x:Name="tbDay" TextWrapping="Wrap" Text="27" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Foreground="#FFEFECE3" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="22"/>
                                <TextBlock x:Name="tbMonth" TextWrapping="Wrap" Text="NOV" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFC6E4EE" FontSize="22"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Grid>
                <Grid Margin="0,600,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="349*"/>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="9*"/>
                    </Grid.ColumnDefinitions>
                    <Rectangle x:Name="recommendedMatchesContainer" HorizontalAlignment="Left" Height="235" Stroke="Black" VerticalAlignment="Center" Width="1440" RadiusX="30" RadiusY="30" Fill="#FF8FABD4" StrokeThickness="0.5" Grid.ColumnSpan="3"/>
                    <ListBox ItemTemplate="{DynamicResource MatchCardTemplate}" x:Name="lbRecommendedMatches" d:ItemsSource="{d:SampleData ItemCount=5}" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Disabled" Background="{x:Null}" Margin="21,10,22,19" Grid.ColumnSpan="3" SelectionChanged="lbRecommendedMatches_SelectionChanged">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal" Width="1396" />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                    </ListBox>
                </Grid>
                <Grid Height="100" Width="100"/>
            </Grid>
            <!-- Sessions Grid -->
            <Grid x:Name="SessionsGrid" Background="#F5F5F5" Margin="159,133,159,66" Visibility="Collapsed">
                <TabControl Margin="60">
                    <TabItem Header="Upcoming">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <ListBox x:Name="lbUpcomingSessions"
                         ItemTemplate="{DynamicResource SessionCardTemplate}"
                         Background="Transparent"
                         BorderThickness="0"/>
                        </ScrollViewer>
                    </TabItem>
                    <TabItem Header="Past">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <ListBox x:Name="lbPastSessions"
                         ItemTemplate="{DynamicResource SessionCardTemplate}"
                         Background="Transparent"
                         BorderThickness="0"
                         Opacity="0.6"/>
                        </ScrollViewer>
                    </TabItem>
                </TabControl>
            </Grid>
            <!-- Matches Grid -->
            <Grid x:Name="MatchesGrid" Background="#FFEFECE3" Margin="118,154,118,95" Visibility="Collapsed">
                <ScrollViewer Margin="60,40" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- Title -->
                        <TextBlock Text="Find Your Learning Partner" 
                       FontSize="36" FontWeight="Bold" 
                       Foreground="#1E293B" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,20"/>

                        <TextBlock Text="Discover students who can teach you new skills or learn from your expertise." 
                       FontSize="18" 
                       Foreground="#64748B" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,40"/>

                        <!-- Search + Filter Bar -->
                        <Grid HorizontalAlignment="Center" Width="800" Margin="0,0,0,40">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Border Background="White" CornerRadius="12" BorderBrush="#E2E8F0" BorderThickness="1" Padding="15">
                                <DockPanel>
                                    <TextBlock Text="🔍" DockPanel.Dock="Left" Margin="0,0,10,0" VerticalAlignment="Center"/>
                                    <TextBox 
                                     x:Name="SearchBox" Text=" "
                                     FontSize="16" 
                                     BorderThickness="0" 
                                     Background="Transparent"
                                     TextChanged="SearchBox_TextChanged"
                                     KeyDown="SearchBox_KeyDown"/>
                                </DockPanel>
                            </Border>
                            <Button Content="Filters" 
                        Grid.Column="1" 
                        Background="#6366F1" 
                        Foreground="White" 
                        Padding="20,15" 
                        Margin="20,0,0,0"/>
                        </Grid>

                        <!-- Matches List -->
                        <ListBox x:Name="lbAllMatches" 
                             ItemTemplate="{DynamicResource MatchCardTemplate}"
                             Background="Transparent" 
                             BorderThickness="0" SelectionChanged="lbAllMatches_SelectionChanged">
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal" 
                                   HorizontalAlignment="Center"/>
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                        </ListBox>

                    </StackPanel>
                </ScrollViewer>
            </Grid>
            <!-- This is for dimming the Dashboard outside of the Sidebar-->
            <Grid x:Name="Overlay" Background="#4C000000" MouseLeftButtonDown="Overlay_MouseLeftButtonDown" Visibility="Collapsed"/>
            <!-- Sidebar Grid -->
            <Grid x:Name="SidebarGrid" Background="#FF8FABD4" Margin="1365,0,0,10" Width="235" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Left" Visibility="Collapsed">
                <!-- Sidebar Content -->
                <StackPanel x:Name="spSideBar" Margin="0,-10,0,10">
                    <Ellipse x:Name="imgSidebarAvatar" Height="90" Stroke="Black" Width="90" Fill="White" Margin="0,50,5,0"/>
                    <TextBlock x:Name="tbSidebarName" TextWrapping="Wrap" Text="Louigie" Foreground="#FFEFECE3" HorizontalAlignment="Center" Margin="0,16,5,0" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" FontSize="22"/>
                    <TextBlock x:Name="tbSidebarEmail" TextWrapping="Wrap" Text="igieboy101703@gmail.com" Foreground="#FFEFECE3" HorizontalAlignment="Center" Margin="0,10,2,0" FontFamily="Yu Gothic UI"/>
                    <Button x:Name="btnEditProfile" Content="Edit Profile " Margin="0,20,0,0" Height="35" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Background="#FF183765" Foreground="#FFEFECE3" BorderBrush="Black" Click="btnEditProfile_Click"/>
                    <Button x:Name="btnSettings" Content="Settings" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" Background="#FF183765" Foreground="#FFEFECE3" Height="36" Margin="0,10,0,0" BorderBrush="Black" Click="btnSettings_Click"/>
                    <Button x:Name="btnLogout" Content="LOGOUT" HorizontalAlignment="Center" Margin="0,630,0,0" Width="235" Height="35" Foreground="#FF730000" Background="#FFEF5A5A" BorderBrush="#7F000000" BorderThickness="1,1,1,0" FontFamily="Yu Gothic UI Semibold" FontWeight="Bold" RenderTransformOrigin="0.511,0.566" Click="btnLogout_Click"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
